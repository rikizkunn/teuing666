<!-- templates/dashboard.html -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parallel Sorting Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body class="bg-gray-50 min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-800 mb-2">Parallel Sorting System</h1>
            <p class="text-gray-600">Distributed sorting with performance analytics</p>
        </div>

        <div class="grid grid-cols-1 xl:grid-cols-3 gap-8">
            <!-- Left Column -->
            <div class="xl:col-span-2 space-y-6">
                <!-- Data Generation -->
                <div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-xl font-semibold mb-4 text-gray-800">
                        <i class="fas fa-database mr-2 text-blue-500"></i>Data Generation
                    </h2>

                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Data Size</label>
                            <input type="number" id="dataSize" value="10000" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Algorithm</label>
                            <select id="algorithm" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="quicksort">Quick Sort (O(n log n))</option>
                                <option value="mergesort">Merge Sort (O(n log n))</option>
                                <option value="heapsort">Heap Sort (O(n log n))</option>
                                <option value="timsort">Tim Sort (Built-in)</option>
                                <option value="bubblesort">Bubble Sort (O(n²))</option>
                                <option value="insertionsort">Insertion Sort (O(n²))</option>
                                <option value="selectionsort">Selection Sort (O(n²))</option>
                            </select>
                        </div>
                    </div>

                    <button onclick="generateData()" class="w-full mt-4 bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-md transition duration-200">
                        <i class="fas fa-plus-circle mr-2"></i>Generate Random Data
                    </button>
                </div>

                <!-- Latest Performance -->
                <div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-xl font-semibold mb-4 text-gray-800">
                        <i class="fas fa-chart-line mr-2 text-green-500"></i>Latest Benchmarks
                    </h2>

                    <div class="grid grid-cols-2 gap-4">
                        <!-- Latest Serial -->
                        <div id="latestSerial" class="bg-red-50 border border-red-200 rounded-lg p-4">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-sync text-red-500 mr-2"></i>
                                <span class="font-semibold text-red-800">Latest Serial</span>
                            </div>
                            <div id="latestSerialContent" class="text-sm text-gray-600">
                                <div class="text-center py-4">
                                    <i class="fas fa-clock text-2xl text-gray-300 mb-2"></i>
                                    <p>No serial tests yet</p>
                                </div>
                            </div>
                        </div>

                        <!-- Latest Parallel -->
                        <div id="latestParallel" class="bg-green-50 border border-green-200 rounded-lg p-4">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-bolt text-green-500 mr-2"></i>
                                <span class="font-semibold text-green-800">Latest Parallel</span>
                            </div>
                            <div id="latestParallelContent" class="text-sm text-gray-600">
                                <div class="text-center py-4">
                                    <i class="fas fa-clock text-2xl text-gray-300 mb-2"></i>
                                    <p>No parallel tests yet</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Control Panel -->
                <div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-xl font-semibold mb-4 text-gray-800">
                        <i class="fas fa-play-circle mr-2 text-red-500"></i>Control Panel
                    </h2>

                    <div class="grid grid-cols-2 gap-4 mb-4">
                        <button onclick="startSerial()" id="serialBtn" class="bg-red-500 hover:bg-red-600 text-white font-medium py-3 px-4 rounded-md transition duration-200">
                            <i class="fas fa-sync mr-2"></i>Serial (1 Client)
                        </button>

                        <button onclick="startParallel()" id="parallelBtn" class="bg-green-500 hover:bg-green-600 text-white font-medium py-3 px-4 rounded-md transition duration-200">
                            <i class="fas fa-bolt mr-2"></i>Parallel (All Clients)
                        </button>
                    </div>

                    <div id="currentBatch" class="text-sm text-gray-600 p-3 bg-gray-50 rounded-md">
                        No active batch
                    </div>

                    <div id="clientInfo" class="mt-4 text-sm">
                        <!-- Client assignment info will appear here -->
                    </div>
                </div>

                <!-- Progress Visualization -->
                <div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-xl font-semibold mb-4 text-gray-800">
                        <i class="fas fa-tasks mr-2 text-orange-500"></i>Sorting Progress
                    </h2>

                    <div id="progressSection">
                        <div class="mb-4">
                            <div class="flex justify-between text-sm text-gray-600 mb-1">
                                <span>Overall Progress</span>
                                <span id="progressText">0/0 chunks</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-4">
                                <div id="progressBar" class="bg-blue-500 h-4 rounded-full transition-all duration-500" style="width: 0%"></div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <h3 class="font-medium text-gray-700 mb-2">Chunk Distribution</h3>
                            <div id="chunkGrid" class="grid grid-cols-5 gap-2">
                                <!-- Chunk indicators -->
                            </div>
                        </div>

                        <div id="clientAssignments" class="space-y-2 text-sm">
                            <!-- Client assignments -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Column -->
            <div class="space-y-6">
                <!-- Connected Clients -->
                <div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-xl font-semibold mb-4 text-gray-800">
                        <i class="fas fa-desktop mr-2 text-green-500"></i> Connected Clients <span id="clientCount" class="bg-green-100 text-green-800 text-sm px-2 py-1 rounded-full">0</span>
                    </h2>
                    <div id="clientsList" class="space-y-3 max-h-80 overflow-y-auto">
                        <div class="text-center text-gray-500 py-4">
                            <i class="fas fa-desktop text-2xl mb-2"></i>
                            <p>No clients connected</p>
                            <p class="text-sm">Run client.py on computers to add them</p>
                        </div>
                    </div>
                </div>

                <!-- Performance Records -->
                <div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-xl font-semibold mb-4 text-gray-800">
                        <i class="fas fa-trophy mr-2 text-yellow-500"></i>Performance Records
                    </h2>

                    <div class="grid grid-cols-2 gap-4">
                        <!-- Fastest -->
                        <div id="fastestRecord" class="bg-green-50 border border-green-200 rounded-lg p-4">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-bolt text-green-500 mr-2"></i>
                                <span class="font-semibold text-green-800">Fastest</span>
                            </div>
                            <div id="fastestContent" class="text-sm text-gray-600">
                                <div class="text-center py-4">
                                    <i class="fas fa-clock text-2xl text-gray-300 mb-2"></i>
                                    <p>No records yet</p>
                                </div>
                            </div>
                        </div>

                        <!-- Slowest -->
                        <div id="slowestRecord" class="bg-red-50 border border-red-200 rounded-lg p-4">
                            <div class="flex items-center mb-2">
                                <i class="fas fa-turtle text-red-500 mr-2"></i>
                                <span class="font-semibold text-red-800">Slowest</span>
                            </div>
                            <div id="slowestContent" class="text-sm text-gray-600">
                                <div class="text-center py-4">
                                    <i class="fas fa-clock text-2xl text-gray-300 mb-2"></i>
                                    <p>No records yet</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Data Preview -->
                <div class="bg-white rounded-lg shadow-md p-6">
                    <h2 class="text-xl font-semibold mb-4 text-gray-800">
                        <i class="fas fa-eye mr-2 text-indigo-500"></i>Data Preview
                    </h2>

                    <div class="space-y-4">
                        <div>
                            <h3 class="font-medium text-gray-700 mb-2">Unsorted Data (First 20)</h3>
                            <div id="unsortedData" class="bg-gray-50 p-3 rounded-md h-32 overflow-y-auto text-sm font-mono">
                                No data generated
                            </div>
                        </div>

                        <div>
                            <h3 class="font-medium text-gray-700 mb-2">Sorted Data (First 20)</h3>
                            <div id="sortedData" class="bg-gray-50 p-3 rounded-md h-32 overflow-y-auto text-sm font-mono">
                                No data sorted
                            </div>
                        </div>

                        <div id="batchLink" class="text-center">
                            <!-- Batch detail link will appear here -->
                        </div>
                    </div>
                </div>

                <!-- Recent Benchmarks -->
                <div class="bg-white rounded-lg shadow-md p-6">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-xl font-semibold text-gray-800">
                            <i class="fas fa-chart-bar mr-2 text-purple-500"></i>Recent Benchmarks
                        </h2>
                        <button onclick="resetBenchmarks()" class="text-red-500 hover:text-red-700 text-sm transition duration-200" title="Reset all benchmark data">
                            <i class="fas fa-trash-alt mr-1"></i>Reset
                        </button>
                    </div>
                    <div id="benchmarkResults" class="space-y-3 max-h-80 overflow-y-auto">
                        <div class="text-center text-gray-500 py-4">
                            <i class="fas fa-chart-bar text-2xl mb-2"></i>
                            <p>No benchmarks yet</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentBatchId = null;
        let refreshInterval = null;

        // Generate data
        async function generateData() {
            const count = document.getElementById('dataSize').value;
            const algorithm = document.getElementById('algorithm').value;

            const response = await fetch('/api/generate', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    count: parseInt(count),
                    algorithm
                })
            });

            const data = await response.json();

            if (data.status === 'success') {
                currentBatchId = data.batch_id;
                document.getElementById('currentBatch').innerHTML =
                    `<strong>Current Batch:</strong> ${data.batch_id} (${data.count} numbers, ${algorithm})`;

                document.getElementById('unsortedData').textContent =
                    data.sample_data.join(', ');
                document.getElementById('sortedData').textContent = 'Not sorted yet';

                document.getElementById('progressBar').style.width = '0%';
                document.getElementById('progressText').textContent = '0/0 chunks';

                // Show batch detail link
                document.getElementById('batchLink').innerHTML =
                    `<a href="/batch/${data.batch_id}" class="text-blue-500 hover:text-blue-700 text-sm">
                        <i class="fas fa-external-link-alt mr-1"></i>View full data details
                    </a>`;
            }
        }

        // Start serial
        async function startSerial() {
            if (!currentBatchId) {
                alert('Please generate data first');
                return;
            }

            const algorithm = document.getElementById('algorithm').value;
            const response = await fetch('/api/start-serial', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    batch_id: currentBatchId,
                    algorithm
                })
            });

            const data = await response.json();
            if (data.status === 'started') {
                document.getElementById('clientInfo').innerHTML =
                    `<div class="text-green-600 bg-green-50 p-3 rounded-md">
                        <i class="fas fa-check-circle mr-1"></i> Serial sort started on <strong>${data.assigned_client}</strong>
                        <div class="text-sm text-green-700 mt-1">${data.idle_clients_count} idle clients available</div>
                    </div>`;
                startProgressRefresh();
            } else {
                alert('Error: ' + data.message);
            }
        }

        // Start parallel
        async function startParallel() {
            if (!currentBatchId) {
                alert('Please generate data first');
                return;
            }

            const algorithm = document.getElementById('algorithm').value;
            const response = await fetch('/api/start-parallel', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    batch_id: currentBatchId,
                    algorithm
                })
            });

            const data = await response.json();
            if (data.status === 'started') {
                document.getElementById('clientInfo').innerHTML =
                    `<div class="text-green-600 bg-green-50 p-3 rounded-md">
                        <i class="fas fa-check-circle mr-1"></i> Parallel sort started with <strong>${data.total_clients}</strong> clients
                        <div class="text-sm text-green-700 mt-1">Chunk size: ${data.chunk_size} numbers each</div>
                    </div>`;
                startProgressRefresh();
            } else {
                alert('Error: ' + data.message);
            }
        }

        // Refresh progress
        async function refreshProgress() {
            // Update clients
            const clientsResponse = await fetch('/api/clients');
            const clientsData = await clientsResponse.json();
            updateClientsList(clientsData.clients);

            // Update progress if batch exists
            if (currentBatchId) {
                const progressResponse = await fetch('/api/progress/' + currentBatchId);
                if (progressResponse.status === 200) {
                    const progress = await progressResponse.json();
                    updateProgressDisplay(progress);
                }
            }

            // Update benchmarks and performance stats
            const benchmarksResponse = await fetch('/api/benchmarks');
            const benchmarksData = await benchmarksResponse.json();
            updateBenchmarks(benchmarksData.benchmarks);
            updatePerformanceStats(benchmarksData.performance_stats);
        }

        function updateClientsList(clients) {
            const container = document.getElementById('clientsList');
            const countElement = document.getElementById('clientCount');

            countElement.textContent = Object.keys(clients).length;

            if (Object.keys(clients).length === 0) {
                container.innerHTML = `
                    <div class="text-center text-gray-500 py-4">
                        <i class="fas fa-desktop text-2xl mb-2"></i>
                        <p>No clients connected</p>
                        <p class="text-sm">Run client.py on computers to add them</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = '';

            Object.values(clients).forEach(client => {
                const statusColor = client.status === 'idle' ? 'bg-green-100 text-green-800' :
                    client.status.startsWith('processing') ? 'bg-blue-100 text-blue-800' :
                    'bg-yellow-100 text-yellow-800';

                const systemInfo = client.system_info || {};
                const platform = systemInfo.platform || 'Unknown';
                const cpuCores = systemInfo.cpu_cores || '?';
                const memory = systemInfo.memory_percent ? Math.round(systemInfo.memory_percent) + '%' : '?';

                const clientEl = document.createElement('div');
                clientEl.className = 'p-3 bg-gray-50 rounded-md';
                clientEl.innerHTML = `
                    <div class="flex justify-between items-start mb-2">
                        <div class="font-medium">${client.id}</div>
                        <span class="px-2 py-1 text-xs rounded-full ${statusColor}">${client.status}</span>
                    </div>
                    <div class="text-xs text-gray-600 space-y-1">
                        <div>${platform} • ${client.hostname}</div>
                        <div>CPU: ${cpuCores} cores | RAM: ${memory}</div>
                        <div class="text-gray-500">${client.algorithms ? client.algorithms.length : 0} algorithms</div>
                    </div>
                `;
                container.appendChild(clientEl);
            });
        }

        function updateProgressDisplay(progress) {
            if (progress.status === 'not_found') return;

            const percent = (progress.completed_chunks / progress.total_chunks) * 100;
            document.getElementById('progressBar').style.width = percent + '%';
            document.getElementById('progressText').textContent =
                `${progress.completed_chunks}/${progress.total_chunks} chunks (${percent.toFixed(1)}%)`;

            // Update chunk grid
            const chunkGrid = document.getElementById('chunkGrid');
            chunkGrid.innerHTML = '';

            for (let i = 0; i < progress.total_chunks; i++) {
                const chunk = document.createElement('div');
                const chunkInfo = progress.chunks[i];
                const isCompleted = chunkInfo && chunkInfo.status === 'completed';
                const isProcessing = chunkInfo && chunkInfo.status === 'assigned';

                let bgColor = 'bg-gray-300';
                if (isCompleted) bgColor = 'bg-green-500';
                else if (isProcessing) bgColor = 'bg-blue-500';

                chunk.className = `h-8 rounded-md flex items-center justify-center text-white text-xs font-medium ${bgColor}`;
                chunk.textContent = i + 1;

                if (chunkInfo) {
                    let tooltip = `Client: ${chunkInfo.client_id}\nStatus: ${chunkInfo.status}`;
                    if (chunkInfo.processing_time) {
                        tooltip += `\nTime: ${chunkInfo.processing_time.toFixed(3)}s`;
                    }
                    chunk.title = tooltip;
                }

                chunkGrid.appendChild(chunk);
            }

            // Update client assignments
            const assignments = document.getElementById('clientAssignments');
            assignments.innerHTML = '<h4 class="font-medium text-gray-700 mb-2">Client Assignments:</h4>';

            Object.values(progress.chunks).forEach(chunk => {
                        const assignment = document.createElement('div');
                        assignment.className = 'flex justify-between items-center text-sm p-2 bg-gray-50 rounded';

                        let statusIcon = '⏳';
                        if (chunk.status === 'completed') statusIcon = '✅';

                        assignment.innerHTML = `
                    <div class="flex items-center">
                        <span class="mr-2">${statusIcon}</span>
                        <span>Chunk ${chunk.chunk_id}</span>
                    </div>
                    <div class="text-right">
                        <div class="font-medium">${chunk.client_id}</div>
                        <div class="text-xs text-gray-500">
                            ${chunk.status} ${chunk.processing_time ? `· ${chunk.processing_time.toFixed(3)}s` : ''}
                        </div>
                    </div>
                `;
                assignments.appendChild(assignment);
            });
            
            // Update sorted data if complete
            if (progress.is_complete && progress.final_result) {
                document.getElementById('sortedData').textContent = 
                    progress.final_result.slice(0, 20).join(', ');
                
                if (progress.total_time) {
                    document.getElementById('progressText').textContent += 
                        ` | Total Time: ${progress.total_time.toFixed(3)}s`;
                    
                    // Update client info with completion
                    document.getElementById('clientInfo').innerHTML = 
                        `<div class="bg-green-50 text-green-700 p-3 rounded-md">
                            <i class="fas fa-flag-checkered mr-1"></i> 
                            <strong>Sorting Complete!</strong> 
                            Total time: ${progress.total_time.toFixed(3)}s
                        </div>`;
                }
            }
        }

        function updatePerformanceStats(stats) {
            // Update fastest record
            const fastestContent = document.getElementById('fastestContent');
            if (stats.fastest) {
                fastestContent.innerHTML = `
                    <div class="text-center">
                        <div class="text-2xl font-bold text-green-600">${stats.fastest.total_time.toFixed(3)}s</div>
                        <div class="text-sm mt-1">
                            <div>${stats.fastest.mode.toUpperCase()} • ${stats.fastest.algorithm}</div>
                            <div>${stats.fastest.total_numbers} numbers</div>
                            <div class="text-xs text-gray-500 mt-1">
                                ${stats.fastest.clients_count} client(s)
                            </div>
                        </div>
                    </div>
                `;
            }
            
            // Update slowest record
            const slowestContent = document.getElementById('slowestContent');
            if (stats.slowest) {
                slowestContent.innerHTML = `
                    <div class="text-center">
                        <div class="text-2xl font-bold text-red-600">${stats.slowest.total_time.toFixed(3)}s</div>
                        <div class="text-sm mt-1">
                            <div>${stats.slowest.mode.toUpperCase()} • ${stats.slowest.algorithm}</div>
                            <div>${stats.slowest.total_numbers} numbers</div>
                            <div class="text-xs text-gray-500 mt-1">
                                ${stats.slowest.clients_count} client(s)
                            </div>
                        </div>
                    </div>
                `;
            }

            // Update latest serial
            const latestSerialContent = document.getElementById('latestSerialContent');
            if (stats.latest_serial) {
                latestSerialContent.innerHTML = `
                    <div class="text-center">
                        <div class="text-2xl font-bold text-red-600">${stats.latest_serial.total_time.toFixed(3)}s</div>
                        <div class="text-sm mt-1">
                            <div>${stats.latest_serial.algorithm}</div>
                            <div>${stats.latest_serial.total_numbers} numbers</div>
                            <div class="text-xs text-gray-500 mt-1">
                                1 client
                            </div>
                        </div>
                    </div>
                `;
            }

            // Update latest parallel
            const latestParallelContent = document.getElementById('latestParallelContent');
            if (stats.latest_parallel) {
                latestParallelContent.innerHTML = `
                    <div class="text-center">
                        <div class="text-2xl font-bold text-green-600">${stats.latest_parallel.total_time.toFixed(3)}s</div>
                        <div class="text-sm mt-1">
                            <div>${stats.latest_parallel.algorithm}</div>
                            <div>${stats.latest_parallel.total_numbers} numbers</div>
                            <div class="text-xs text-gray-500 mt-1">
                                ${stats.latest_parallel.clients_count} clients
                            </div>
                        </div>
                    </div>
                `;
            }
        }

        function updateBenchmarks(benchmarks) {
            const container = document.getElementById('benchmarkResults');
            
            if (benchmarks.length === 0) {
                container.innerHTML = `
                    <div class="text-center text-gray-500 py-4">
                        <i class="fas fa-chart-bar text-2xl mb-2"></i>
                        <p>No benchmarks yet</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = '';
            
            benchmarks.reverse().forEach(benchmark => {
                const benchmarkEl = document.createElement('div');
                benchmarkEl.className = 'p-3 bg-gray-50 rounded-md border-l-4 ' + 
                    (benchmark.mode === 'serial' ? 'border-red-400' : 'border-green-400');
                
                benchmarkEl.innerHTML = `
                    <div class="flex justify-between items-start">
                        <div>
                            <div class="font-medium">${benchmark.mode.toUpperCase()}</div>
                            <div class="text-sm text-gray-600">
                                ${benchmark.total_numbers} numbers • ${benchmark.algorithm}
                            </div>
                            <div class="text-xs text-gray-500 mt-1">
                                ${benchmark.clients_count} client(s)
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="font-bold text-lg">${benchmark.total_time?.toFixed(3)}s</div>
                            <div class="text-xs text-gray-500">
                                ${new Date(benchmark.timestamp).toLocaleTimeString()}
                            </div>
                        </div>
                    </div>
                `;
                container.appendChild(benchmarkEl);
            });
        }

        function startProgressRefresh() {
            if (refreshInterval) clearInterval(refreshInterval);
            refreshInterval = setInterval(refreshProgress, 1000);
        }

        // Reset benchmarks
        async function resetBenchmarks() {
            if (!confirm('Are you sure you want to reset all benchmark data? This cannot be undone.')) {
                return;
            }

            try {
                const response = await fetch('/api/reset-benchmarks', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    }
                });

                const data = await response.json();
                
                if (data.status === 'success') {
                    // Clear UI
                    document.getElementById('benchmarkResults').innerHTML = `
                        <div class="text-center text-gray-500 py-4">
                            <i class="fas fa-chart-bar text-2xl mb-2"></i>
                            <p>No benchmarks yet</p>
                        </div>
                    `;
                    
                    // Reset performance stats displays
                    document.getElementById('fastestContent').innerHTML = `
                        <div class="text-center py-4">
                            <i class="fas fa-clock text-2xl text-gray-300 mb-2"></i>
                            <p>No records yet</p>
                        </div>
                    `;
                    
                    document.getElementById('slowestContent').innerHTML = `
                        <div class="text-center py-4">
                            <i class="fas fa-clock text-2xl text-gray-300 mb-2"></i>
                            <p>No records yet</p>
                        </div>
                    `;
                    
                    document.getElementById('latestSerialContent').innerHTML = `
                        <div class="text-center py-4">
                            <i class="fas fa-clock text-2xl text-gray-300 mb-2"></i>
                            <p>No serial tests yet</p>
                        </div>
                    `;
                    
                    document.getElementById('latestParallelContent').innerHTML = `
                        <div class="text-center py-4">
                            <i class="fas fa-clock text-2xl text-gray-300 mb-2"></i>
                            <p>No parallel tests yet</p>
                        </div>
                    `;
                    
                    alert('Benchmark data has been reset successfully!');
                } else {
                    alert('Failed to reset benchmark data');
                }
            } catch (error) {
                console.error('Error resetting benchmarks:', error);
                alert('Error resetting benchmark data');
            }
        }

        // Initialize
        startProgressRefresh();
    </script>
</body>

</html>